# Vue Syntax

## Template Syntax
- DOM을 기본 구성 요소 인스턴스의 데이터에 선언적으로 바인딩할 수 있는 HTML 기반 템플릿 구문 사용
### Text Interpolation
```html
<p>Message:{{msg}}</p>
```
```js
const msg = 'Hello'
```
- 데이터 바인딩의 가장 기본적인 형태
- 이중 중괄호 구문(콧수염 구문) 사용
- 콧수염 구문은 해당 구성 요소 인스턴스의 msg 속성 값으로 대체
- msg 속성이 변경될 때마다 업데이트됨
### Raw HTML
```html
  <div v-html="rawHtml"></div>
```
```js
  const rawHtml = ref('<span style="color:red">This should be red.</span>')
```
- 콧수염 구문을 데이터를 일반 텍스트로 해석<br>
=> 실제 HTML을 출력하려면 v-HTML 사용해야함
- 쓰려면 쓰는데 웬만하면 안쓰는게
- 사용자가 코드에 접근이 너무 쉬워짐<br>
=> 보안문제
### v-bind
- Attributed Bindings
  ```html
  <div v-bind:id="dynamicId"></div>
  ```
  ```js
  const dynamicId = ref('my-id')
  ```
  - 콧수염 구문은 HTML 속성 내에서 사용불가 => v-bind 사용
  - HTML의 id 속성 값을 vue의 dynamicId 속성과 동기화 되도록 함
  - 바인딩 값이 null이나 undefined인 경우 렌더링 요소에서 제거됨
  - my-id 는 반응성이라 개발자도구에서 바꿀 수 있다
  - 원래 js에서 가져오려면 d.queryselect ....어쩌고 사용해야 했는데 간단하게 바꿀수 있게 되엇

## Directive
- v- 접두사가 있는 특수 속성
- 속성 값은 단일 js 표현식이어야 함
  - for, on 제외
- 표현식 값이 변경될 때 DOM에 반응적으로 업데이트
- html에서 ""로 속성을 묶어주는 게 기본, " " 있다고 문자열이 아니다!
- 모르겠으면 해봐라
``` html
<p v-if="seen">Hi there</p>
```
```html
<form v-on:submit.prevent="onSubmit">
      <input type="submit">
    </form>
```
`v-on` : 이름
`submit` : arguement
`.prevent` : modifiers
`onSubmit` : value

## Dynamically data binding
### v-bind
- 하나 이상의 속성/컴포넌트 데이터를 표현식에 동적으로 바인딩
  - attribute bindings
  - Class and style bindings
- Attribute Bindings
  ```html
    <img v-bind:src="imageSrc">
    <a :href="myUrl">Move to url</a>
    
  ```
  - html의 속성 값을 vue의 상태 속성 값과 동기화되도록
  - v-bind shorthand(약어) -> :
    - vbind:인자 -> :인자
    - 이렇게만 사용해도 되게 약어
    - 진짜겁나자주써서 약어만들어줌
  - Dynalmic attribute name (동적 인자 이름)
  ``` html
    <p :[dynamicattr]="dynamicValue">Dynamic Attr</p>
  ```
    - 그런게 있다 정도로 넘어가기
    - 어차피 html은 대소문자 구분못함
    - 대괄호로 감싸서 js표현식 사용하려고 한
## Class and Style Bindings
- class와 style는 모두 HTML 속성이므로 다른 속성과 마찬가지로 v-bind를 사용하여 동적으로 문자열 값을 할당 가능
- vue는 class 및 style 속성 값을 v-bind 로 사용할 때 객체 또는 배열을 활용하여 작성할 수 있게 함
  - 문자열 연결로는 번거롭고 오류 발생 쉬움
### binding to objects
- css 컨벤션 사용 -> "-"사용
  - js문법으로 적용되는데 뺄셈으로 적용됨 => 문자열로 만들어서 할당
- .vue파일은 index.html로 넘어가기 전에 vue객체가 가진 template가 가진 문자열 속성을 잘 바꿔서 이식함
- 객체를 :class에 전달 -> 클래스 동적 전환
- 스타일 바인딩 있는데 안쓴다
  - 인라인 스타일 처리인데 이거 명시성땜에 안쓴다고 했던거

## Event Handling
### v-on
- DOM 요소에 이벤트 리스너 연결 및 수신
- v-on:submit.prevent="onSubmit"
- 얘도 약어존재 => '@'
  - v-on:event="handler"
  - @event="handler"
- inline handelr는 간단한 상황에 사용
  ```html
  <button @click="count++">Add 1</button>
    <p>Count: {{ count }}</p>
  ```
- 함수에 () 넣는건 함수 호출
  - 이벤트 함수의 첫 인자는 기본적으로 이벤트
  - 사용자 지정 인자 전달도 가능은함
- event랑 인자랑 같이쓸수도 있음 -> 이때는 event를 직접적으로 넣어줘야함. $event로! 55p, 샘플 eventhandling.vue 추가참조
  - $ : document 처럼 vue 프레임워크에 임의로 정해진 애들
  - 외부 라이브러리의 모든 변수를 알 수 없어서 앞에 $ 붙이기로 타협
- v-on => @ , v-bind => :
  - 헷갈리지 않게 주의

###  Event Modifiers
- vue는 v-on에 대한 event Modifiers를 제공
  - event.preventDefault()같은 구문을 메서드에서 작성 안해도 되게 함
- stop, prevent, self 등 제공
- 어지간한거 뭐있는지는 공식문서 봐라
- key modifiers
  - keyup같은 키보드이벤트에서 특정키에 관한 별도 modefiers 사용가능
  - 원래는 keycode를 받아야 하는데 vue에서 특수키는 제공해줌
  ```html
  <input @keyup.enter="onSubmit">
  ```

## Form Input Bindings
- form 을 처리할 때 사용자가 input에 입력하는 값을 실시간으로 js 상태에 동기화햐애 하는 경우(양방향 바인딩)
- 양방향 바인딩
  - v-bind, v-on 함께사용
  - v-model 사용
- 공통 스크립트
```html
<script setup>
  import { ref } from 'vue'
  
  const inputText1 = ref('')
  const inputText2 = ref('')
  
  const onInput = function (event) {
    inputText1.value = event.currentTarget.value
  }
</script>
```
### v-bind, v-on 함께사용
```html
<p>{{ inputText1 }}</p>
<input :value="inputText1" @input="onInput">
```
- v-bind 사용 -> input 요소의 value 속성 값을 입력 값으로 사용
- v-on을 사용 -> input 이벤트 발생시마다 input요소의 value 값을 별도 반응형 변수에 저장하는 핸들러 호출
### v-model
```html
<p>{{ inputText2 }}</p>
<input v-model="inputText2">
```
- 일반 프로젝트 할때는 텍스트 입력에 v-on 써야함..
  - IME 때문인데 비영어 문자는 문장이 완성이 되어야 출력됨. 노션이나 그런거 입력할때 왼쪽위에 글자완성됐는지 확인하는 창뜨는거같은거
  - v-on은 input할때마다 갱신이라 괜찮
- v-model은 단순 텍스트 입력뿐만 아니라 checkbox, radio, select등 다양한 타입 사용자 입력 방식과 사용 가능

## Conditional Rendering
- 로그인한 경우에만 내부 화면 출력해야 하니 if 같은거 필요
### v-if
- 표현식 값의 true/false를 기반으로 요소를 조건부 렌더링
```html
<p v-if="isSeen">true일때 보여요</p>
<p v-else>false일때 보여요</p>
```
- div 태그에 내용 다집어넣고 로그인 화면도 div로 감싸서 if 돌려서 두개 따로 보여주기 가능
```html
<div v-if="name === 'Alice'">Alice입니다</div>
<div v-else-if="name === 'Bella'">Bella입니다</div>
<div v-else-if="name === 'Cathy'">Cathy입니다</div>
<div v-else>아무도 아닙니다.</div>
```
- 굳이 다 div로 작성안해도됨. 각자 다 다른 태그, 스타일 적용 가능!
- if-else 적용 가능

```html
<template v-if="name === 'Cathy'">
  <div>Cathy입니다</div>
  <div>나이는 30살입니다</div>
</template>
```
- 내용 여러개일 때 굳이 div로 감싸면 영역너무많으니 templete 제공. 이거 사용 권장
### display:none
- 요소에는 존재, 안보임
- 언제나 렌더링 되어있음, 보이진 않음
### v-if vs v-show
- v-show는 display:none 처럼
- v-show는 가시성만 전환
- v-if는 조건 만족 못하면 렌더링 x
  - 초기조건 false하면 아무작업 수행x -> 초기 렌더링 비용 낮음
  - 꺼켯하면 계속 렌더링 -> 토글 비용 높음
- v-show는 무조건 렌더링
  - 조건 상관없이 언제나 렌더링 -> 초기 렌더링 비용 높음
  - 꺼켯해도 그냥 display:none를 줬다뺐다만함 -> 토글 비용 낮음
- => 콘텐츠 자주 전환 : v-show, 실행 중 조건 변경 x: v-if 권장
- 데이터 오고 나서 렌더링 -> v-if문
- 토글같은거 -> v-show
- template 태그 여러개 하지말라는건 제일바깥거 얘기. template 안에 template는 가능
  - 객체로 감싸서 주는건데 속성 중복되면 안됨;
  - 이얘기는 교재에서 못찾음, 강의보셈

## List Rendering
### v-for
- 소스 데이터 기반, 요소 또는 템플릿 블록을 여러 번 렌더링
- vue는 for-in만 쓰면된다!
- 인덱스(객체에서 키)에 대한 별칭 지정 가
```html
<div v-for="(value, key, index) in myObj">
  {{ index }} / {{ key }} / {{ value }}
</div>
```
- 배열 반복
```js
const myArr = ref([
    { name: 'Alice', age: 20 },
    { name: 'Bella', age: 21 }
  ])
```
```html
<div v-for="(item, index) in myArr">
  {{ index }} / {{ item.name }}
</div>
```
- 객체 반복
```html
<div v-for="(value, key, index) in myObj">
  {{ index }} / {{ key }} / {{ value }}
</div>
```
- html template 요소에 v-for 사용 => 하나 이상의 요소에 대해 반복 렌더링 가능
```html
<ul>
  <template v-for="item in myArr">
    <li>{{ item.name }}</li>
    <li>{{ item.age }}</li>
    <hr>
  </template>
</ul>
```
- 각 v-for범위는 상위 범위 접근 가능 (2중 for문 가능)
```html
<ul v-for="item in myInfo">
  <li v-for="friend in item.friends">
    {{ item.name }} - {{ friend }}
  </li>
</ul>
```
### 반드시 v-for와 key를 같이 사용 
- 내부 컴포넌트의 상태를 일관되게 함 -> 데이터의 예측 가능한 행동 유지
- key는 반드시 각 요소에 대해 고유한 값을 나타낼 수 있는 식별자여야 함
- 우리가 쓸일은 아닌데 vue가 빠르게 찾게 하기 위함
- 내장 특수 속성 key
  - number/string으로 사용
  - 권장 : db 고유 id 등
  - 피함 : 배열 인덱스, 객체 자체 등
    - 인덱스는 가변값이니 하지마세용
### 동일 요소에 v-for, v-if를 함께 사용하지 말것
- 동일 요소에서 v-if가 v-for보다 우선순위 높음
- v-if에서 조건은 v-for 변수에 접근 불가
- 해결법
  - computed, `<template>` 요소 사용
- computed는 월요일에
- template
```html
<template v-for="todo in todos" :key="todo.id">
  <li v-if="!todo.isComplete">
    {{ todo.name }}
  </li>
</template>
```

## 참고
- 관통프로젝트 진행할때 gitignore 직접작성해야함
- 회사에서 코드받아오거나 기타등등 외부에서 코드받아올 때 readme 한번씩 읽어볼것
- readme에는 프로젝트 소개, 개인 pc에서 실행시키는 방법같은거 들어가있다.
- ls 해서 package.json 있는지 확인하고 npm install 해주기.
  - 그러면 필요한 패키지를 다운받아주게 된다.
- npm run dev 해서 서버 열고 뭐있나 확인
- v-on 종합에 뭐라고하시는지 다시보기 form input bindings 왜필요한지 얘기하신듯